# Deployment Instructions for Render.com

## Quick Setup Guide

Follow these steps to deploy Rwanda Crime Report System to Render.com:

### Step 1: Create Render Account
1. Go to https://render.com
2. Click "Sign up"
3. Select "Sign up with GitHub" (easiest)
4. Authorize Render to access your GitHub repos

### Step 2: Deploy
1. In Render dashboard, click **"New +"** â†’ **"Web Service"**
2. Select your `Rwanda-Crime-Report-System` repository
3. Fill in these fields:

   - **Name:** `rrs-presentation` (or your preference)
   - **Environment:** `Python 3.11`
   - **Region:** Choose closest to you
   - **Branch:** `main`
   - **Build Command:** `pip install -r backend/requirements.txt && cd backend && python manage.py migrate --noinput && python manage.py collectstatic --noinput`
   - **Start Command:** `cd backend && gunicorn config.wsgi:application --bind 0.0.0.0:10000`
   - **Plan:** Free

### Step 3: Add Environment Variables
Click "Advanced" and add these variables:

```
DEBUG = False
SECRET_KEY = your-very-long-random-secret-key-here (see below for generation)
ALLOWED_HOSTS = *.render.com
DATABASE_URL = (auto-generated by Render)
BLOCKFROST_PROJECT_ID = your-blockfrost-key-here
ANCHOR_BROADCAST = False
```

### Step 4: Generate Secure SECRET_KEY
Run this in PowerShell on your local machine:

```powershell
cd c:\Users\peril ops\Desktop\RRS\backend
python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
```

Copy the output and paste it as the `SECRET_KEY` value in Render dashboard.

### Step 5: Create PostgreSQL Database (Optional - Render does it automatically)
Render will automatically create a PostgreSQL database linked to your app.

### Step 6: Click "Create Web Service"
Render will now:
1. Pull your code from GitHub
2. Install dependencies
3. Migrate the database
4. Collect static files
5. Start the server

**Wait 5-10 minutes...**

### Step 7: Your App is LIVE!
Once deployment completes, you'll see a live URL like:
```
https://rrs-presentation.onrender.com
```

### Step 8: Test Your Deployment

1. **Check if site loads:**
   ```
   https://rrs-presentation.onrender.com
   ```

2. **Create superuser for admin (via Render Shell):**
   - In Render dashboard, go to your service
   - Click "Shell" tab
   - Run: `python backend/manage.py createsuperuser`
   - Follow prompts

3. **Login to admin:**
   ```
   https://rrs-presentation.onrender.com/admin
   ```

4. **Create demo reports** via admin panel

### Step 9: Auto-Deploys on Each GitHub Push
Every time you push to `main` branch, Render automatically redeploys your app!

```powershell
cd c:\Users\peril ops\Desktop\RRS
git add .
git commit -m "Update for deployment"
git push origin main
# Render redeploys automatically!
```

---

## Troubleshooting

### "Internal Server Error" on Render
1. Check logs: Render Dashboard â†’ Service â†’ **Logs**
2. Common fixes:
   - Verify SECRET_KEY is set
   - Check DATABASE_URL is correct
   - Ensure ALLOWED_HOSTS includes your domain

### Database migration failed
- In Render shell, run:
  ```
  python backend/manage.py migrate --run-syncdb
  ```

### Static files not loading
- Run in Render shell:
  ```
  python backend/manage.py collectstatic --noinput
  ```

### Can't connect to IPFS
- For demo: Keep `ANCHOR_BROADCAST = False` (doesn't need real IPFS)
- For production: Configure Blockfrost and IPFS daemon

---

## Next Steps After Deployment

1. âœ… Share your live URL with stakeholders
2. âœ… Create demo reports for presentation
3. âœ… Test integrity verification feature
4. âœ… Show blockchain records on Cardano Preview Testnet
5. âœ… Collect feedback from viewers

---

## Important Security Notes

- **Never** commit secrets to GitHub (use Render environment variables)
- **Always** use a strong SECRET_KEY in production
- **Enable** HTTPS (Render does this automatically)
- **Restrict** admin panel access if making it public

---

Your project is now deployment-ready! ðŸš€

For detailed Render docs: https://render.com/docs
